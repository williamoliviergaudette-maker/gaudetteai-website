---
import '../styles/global.css';

interface Props {
  title: string;
  description?: string;
  lang?: string;
}

const { title, description = 'Knowledge That Compounds', lang = 'en' } = Astro.props;

// Navigation translations
const nav = {
  en: {
    home: 'Home',
    ktc: 'KTC',
    consulting: 'Consulting',
    contact: 'Contact',
    faq: 'FAQ',
    language: 'Language',
    homeLink: '/',
    ktcLink: '/ktc',
    consultingLink: '/consulting',
    contactLink: '/contact',
    faqLink: '/faq'
  },
  fr: {
    home: 'Accueil',
    ktc: 'KTC',
    consulting: 'Services',
    contact: 'Contact',
    faq: 'FAQ',
    language: 'Langue',
    homeLink: '/fr',
    ktcLink: '/fr/ktc',
    consultingLink: '/fr/consulting',
    contactLink: '/fr/contact',
    faqLink: '/fr/faq'
  }
};

const t = nav[lang as keyof typeof nav] || nav.en;
---

<!DOCTYPE html>
<html lang={lang}>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content={description} />
    <title>{title} | Gaudette AI</title>
    <style>
  .language-dropdown {
    position: relative;
    display: inline-block;
  }
  .language-button {
    padding: 0.75rem 1.5rem;
    margin: -0.75rem -1.5rem;
    background: none;
    border: none;
    color: inherit;
    font: inherit;
    cursor: pointer;
    font-weight: 600;
    white-space: nowrap;
  }
  .language-button:hover {
    color: #60a5fa;
  }
  .language-menu {
    display: none;
    position: absolute;
    right: -0.3rem;
    top: 100%;
    background: #1f2937;
    border: 1px solid #374151;
    border-radius: 0.5rem;
    min-width: 125px;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
    z-index: 100;
    margin-top: 0.5rem;
  }
  .language-dropdown:hover .language-menu {
    display: block;
  }
  .language-menu a {
    display: block;
    padding: 0.75rem 1rem;
    color: #d1d5db;
    text-decoration: none;
    transition: all 0.2s;
  }
  .language-menu a:hover {
    background: #374151;
    color: #60a5fa;
  }
  .language-menu a:first-child {
    border-radius: 0.5rem 0.5rem 0 0;
  }
  .language-menu a:last-child {
    border-radius: 0 0 0.5rem 0.5rem;
  }
</style>
  </head>
  <body class="bg-gray-900 text-white">
    <header class="bg-gray-900 border-b border-gray-800 sticky top-0 z-50">
      <nav class="container mx-auto px-4 py-4">
        <div class="grid grid-cols-3 items-center">
          <!-- Left: Logo -->
          <a href={t.homeLink} class="text-xl font-bold text-white hover:text-blue-400 transition-colors">
            Gaudette AI
          </a>
          
          <!-- Center: Nav Links -->
          <div class="flex items-center justify-center space-x-6">
            <a href={t.homeLink} class="text-gray-300 hover:text-blue-400 font-medium transition-colors">{t.home}</a>
            <a href={t.consultingLink} class="text-gray-300 hover:text-blue-400 font-medium transition-colors">{t.consulting}</a>
            <a href={t.contactLink} class="text-gray-300 hover:text-blue-400 font-medium transition-colors">{t.contact}</a>
            <a href={t.faqLink} class="text-gray-300 hover:text-blue-400 font-medium transition-colors">{t.faq}</a>
            <a href={t.ktcLink} class="text-gray-300 hover:text-blue-400 font-medium transition-colors">{t.ktc}</a>
          </div>
          
          <!-- Right: Language Dropdown -->
          <div class="flex justify-end">
            <div class="language-dropdown">
              <button class="language-button text-gray-300">
                üåê {t.language} ‚ñº
              </button>
              <div class="language-menu">
                <a href="/">üá¨üáß English</a>
                <a href="/fr">üá´üá∑ Fran√ßais</a>
              </div>
            </div>
          </div>
        </div>
      </nav>
    </header>
    
    <main>
      <slot />
    </main>
    
    <footer class="bg-gray-900 border-t border-gray-800 py-8 mt-16">
      <div class="container mx-auto px-4 text-center text-gray-400">
        <p>&copy; 2026 Gaudette AI inc. All rights reserved.</p>
      </div>
    </footer>
  </body>
</html>