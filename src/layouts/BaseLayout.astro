---
import '../styles/global.css';

interface Props {
  title: string;
  description?: string;
  lang?: string;
}

const { title, description = 'Knowledge That Compounds', lang = 'en' } = Astro.props;

// Navigation translations
const nav = {
  en: {
    home: 'Home',
    about: 'About',
    ktc: 'KTC',
    consulting: 'Consulting',
    contact: 'Contact',
    language: 'Language',
    homeLink: '/',
    aboutLink: '/about',
    ktcLink: '/ktc',
    consultingLink: '/consulting',
    contactLink: '/contact'
  },
  fr: {
    home: 'Accueil',
    about: '√Ä Propos',
    ktc: 'KTC',
    consulting: 'Services',
    contact: 'Contact',
    language: 'Langue',
    homeLink: '/fr',
    aboutLink: '/fr/about',
    ktcLink: '/fr/ktc',
    consultingLink: '/fr/consulting',
    contactLink: '/fr/contact'
  }
};

const t = nav[lang as keyof typeof nav] || nav.en;
---

<!DOCTYPE html>
<html lang={lang}>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content={description} />
    <title>{title} | Gaudette AI</title>
    <style>
  .language-dropdown {
    position: relative;
    display: inline-block;
  }
  .language-button {
    padding: 0.75rem 1.5rem;
    margin: -0.75rem -1.5rem;
    background: none;
    border: none;
    color: inherit;
    font: inherit;
    cursor: pointer;
    font-weight: 600;
    white-space: nowrap;
  }
  .language-button:hover {
    color: #d1d5db;
  }
  .language-menu {
    display: none;
    position: absolute;
    right: -0.3rem;
    top: 100%;
    background: #1f2937;
    border: 1px solid #374151;
    border-radius: 0.5rem;
    min-width: 125px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
    z-index: 100;
    margin-top: 0.5rem;
  }
  .language-dropdown:hover .language-menu {
    display: block;
  }
  .language-menu a {
    display: block;
    padding: 0.75rem 1rem;
    color: white;
    text-decoration: none;
  }
  .language-menu a:hover {
    background: #374151;
  }
  .language-menu a:first-child {
    border-radius: 0.5rem 0.5rem 0 0;
  }
  .language-menu a:last-child {
    border-radius: 0 0 0.5rem 0.5rem;
  }
  
  /* Dark Blue Gradient Background */
  .gradient-bg {
    background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #0f172a 100%);
    min-height: 100vh;
  }
</style>
  </head>
  <body class="text-gray-100 gradient-bg">
    <header class="bg-gray-800/50 backdrop-blur-sm text-white py-4 border-b border-gray-700/50">
      <nav class="container mx-auto px-4">
        <div class="grid grid-cols-3 items-center">
          <!-- Left: Logo -->
          <a href={t.homeLink} class="text-xl font-bold">Gaudette AI</a>
          
          <!-- Center: Nav Links (REORDERED) -->
          <div class="flex items-center justify-center space-x-6">
            <a href={t.homeLink} class="hover:text-gray-300">{t.home}</a>
            <a href={t.consultingLink} class="hover:text-gray-300">{t.consulting}</a>
            <a href={t.contactLink} class="hover:text-gray-300">{t.contact}</a>
            <a href={t.ktcLink} class="hover:text-gray-300">{t.ktc}</a>
            <a href={t.aboutLink} class="hover:text-gray-300">{t.about}</a>
          </div>
          
          <!-- Right: Language Dropdown -->
          <div class="flex justify-end">
            <div class="language-dropdown">
              <button class="language-button">
                üåê {t.language} ‚ñº
              </button>
              <div class="language-menu">
                <a href="/">üá¨üáß English</a>
                <a href="/fr">üá´üá∑ Fran√ßais</a>
              </div>
            </div>
          </div>
        </div>
      </nav>
    </header>
    
    <main class="container mx-auto px-4 py-8">
      <slot />
    </main>
    
    <footer class="bg-black/30 backdrop-blur-sm py-6 mt-12 border-t border-gray-700/50">
      <div class="container mx-auto px-4 text-center text-gray-400">
        <p>&copy; 2026 Gaudette AI inc. All rights reserved.</p>
      </div>
    </footer>
  </body>
</html>